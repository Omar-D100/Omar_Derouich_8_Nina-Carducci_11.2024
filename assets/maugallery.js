document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".gallery").forEach(function(e){createRowWrapper(e),options.lightBox&&createLightBox(e,options.lightboxId,options.navigation);var t=[];e.querySelectorAll(".gallery-item").forEach(function(e){responsiveImageItem(e),moveItemInRowWrapper(e),wrapItemInColumn(e,options.columns);var a=e.getAttribute("data-gallery-tag");options.showTags&&a&&!t.includes(a)&&t.push(a)}),options.showTags&&showItemTags(e,options.tagsPosition,t),e.style.display="block"}),document.querySelectorAll(".gallery-item").forEach(function(e){e.addEventListener("click",function(){options.lightBox&&"IMG"===e.tagName&&openLightBox(e,options.lightboxId)})}),document.querySelectorAll(".gallery .nav-link").forEach(function(e){e.addEventListener("click",filterByTag)}),document.querySelectorAll(".gallery .mg-prev").forEach(function(e){e.addEventListener("click",function(){prevImage(options.lightboxId)})}),document.querySelectorAll(".gallery .mg-next").forEach(function(e){e.addEventListener("click",function(){nextImage(options.lightboxId)})})});var options={columns:{xs:1,sm:2,md:3,lg:3,xl:3},lightBox:!0,lightboxId:"myAwesomeLightbox",showTags:!0,tagsPosition:"top",navigation:!0};function createRowWrapper(e){if(!e.firstElementChild.classList.contains("row")){var t=document.createElement("div");t.className="gallery-items-row row",e.appendChild(t)}}function wrapItemInColumn(e,t){var a=document.createElement("div");a.classList.add("item-column","mb-4"),"number"==typeof t?a.classList.add("col-"+Math.ceil(12/t)):"object"==typeof t?(t.xs&&a.classList.add("col-"+Math.ceil(12/t.xs)),t.sm&&a.classList.add("col-sm-"+Math.ceil(12/t.sm)),t.md&&a.classList.add("col-md-"+Math.ceil(12/t.md)),t.lg&&a.classList.add("col-lg-"+Math.ceil(12/t.lg)),t.xl&&a.classList.add("col-xl-"+Math.ceil(12/t.xl))):console.error(`Columns should be defined as numbers or objects. ${typeof t} is not supported.`),e.parentNode.insertBefore(a,e),a.appendChild(e)}function moveItemInRowWrapper(e){document.querySelector(".gallery-items-row").appendChild(e)}function responsiveImageItem(e){"IMG"===e.tagName&&e.classList.add("img-fluid")}function openLightBox(e,t){var a=document.getElementById(t);a.querySelector(".lightboxImage").src=e.src,a.classList.add("show")}function prevImage(e){var t=document.querySelector('img.gallery-item[src="'+document.querySelector(".lightboxImage").src+'"]'),a=document.querySelector(".tags-bar span.active-tag").getAttribute("data-images-toggle"),l=[];"all"===a?document.querySelectorAll(".item-column").forEach(function(e){e.querySelector("img")&&l.push(e.querySelector("img"))}):document.querySelectorAll(".item-column").forEach(function(e){e.querySelector("img").getAttribute("data-gallery-tag")===a&&l.push(e.querySelector("img"))});var o=l[l.indexOf(t)-1]||l[l.length-1];document.querySelector(".lightboxImage").src=o.src}function nextImage(e){var t=document.querySelector('img.gallery-item[src="'+document.querySelector(".lightboxImage").src+'"]'),a=document.querySelector(".tags-bar span.active-tag").getAttribute("data-images-toggle"),l=[];"all"===a?document.querySelectorAll(".item-column").forEach(function(e){e.querySelector("img")&&l.push(e.querySelector("img"))}):document.querySelectorAll(".item-column").forEach(function(e){e.querySelector("img").getAttribute("data-gallery-tag")===a&&l.push(e.querySelector("img"))});var o=l[l.indexOf(t)+1]||l[0];document.querySelector(".lightboxImage").src=o.src}function createLightBox(e,t,a){var l=document.createElement("div");l.className="modal fade",l.id=t||"galleryLightbox",l.tabIndex=-1,l.role="dialog",l.ariaHidden=!0,l.innerHTML=`
      <div class="modal-dialog" role="document">
          <div class="modal-content">
              <div class="modal-body">
                  ${a?'<div class="mg-prev" style="cursor:pointer;position:absolute;top:50%;left:-15px;background:white;"><</div>':'<span style="display:none;" />'}
                  <img class="lightboxImage img-fluid" alt="Contenu de l'image affich\xe9e dans la modale au clique"/>
                  ${a?'<div class="mg-next" style="cursor:pointer;position:absolute;top:50%;right:-15px;background:white;}">></div>':'<span style="display:none;" />'}
              </div>
          </div>
      </div>`,e.appendChild(l)}function showItemTags(e,t,a){var l='<li class="nav-item"><span class="nav-link active active-tag" data-images-toggle="all">Tous</span></li>';a.forEach(function(e){l+=`<li class="nav-item active"><span class="nav-link" data-images-toggle="${e}">${e}</span></li>`});var o=`<ul class="my-4 tags-bar nav nav-pills">${l}</ul>`;"bottom"===t?e.insertAdjacentHTML("beforeend",o):"top"===t?e.insertAdjacentHTML("afterbegin",o):console.error(`Unknown tags position: ${t}`)}function filterByTag(){if(!this.classList.contains("active-tag")){document.querySelector(".active.active-tag").classList.remove("active","active-tag"),this.classList.add("active-tag","active");var e=this.getAttribute("data-images-toggle");document.querySelectorAll(".gallery-item").forEach(function(t){var a=t.closest(".item-column");a.style.display="none",("all"===e||t.getAttribute("data-gallery-tag")===e)&&(a.style.display="block")})}}